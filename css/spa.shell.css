	<script type="text/javascript">
		
		/* global jQuery */
		// Module /spa/
		// Provide chat slider capability
		var spa = (function($){
			//Module scope variable
			var
			//Set constants
			configMap = {
				extended_height: 434,
				extended_title: 'Click to retract',
				retracted_height: 16,
				retracted_title: 'Click to extend',
				template_html: '<div class="spa-slider"><\/div>'
			},
			//Declare all other module scope variable
			$chatSlider,
			toggleSlider, onClickSlider, initModule;
			//DOM method /toggleSlider/
			//alternates slider height
			toggleSlider = function(){
				var slider_height = $chatSlider.height();
				//extend slider if fully retracted
				if(slider_height === configMap.retracted_height){
					$chatSlider
					.animate({height: configMap.extended_height})
					.attr('title', configMap.extended_title);
					return true;
				}
				//retract slider if fully extended
				else if(slider_height == configMap.extended_height){
					$chatSlider
					.animate({height: configMap.retracted_height})
					.attr('title', configMap.retracted_title);
					return true;
				}
				//don no take action if slider is in transition
				return false;
			};
			//Event handler /onClickSlider/
			//receives click event and calls toggleSlider
			onClickSlider = function(event){
				toggleSlider();
				return false;
			};
			//Public methos /initModule/
			//sets initial state and provides feature
			initModule = function($container){
				//reder HTML
				$container.html(configMap.template_html);
				$chatSlider = $container.find('.spa-slider');
			 	//initialize slider event and title
				//bind the user click envet to the event handler
				$chatSlider
				.attr('title', configMap.retracted_title)
				.click(onClickSlider);
			};
			return {initModule: initModule};
		}(jQuery));
		//Start spa once DOM is ready
		jQuery(document).ready(
			function(){spa.initModule(jQuery('#spa'));}
			);


	</script>